# Самый простой гайд на zapret от bol-van для арчеводов
### Все команды выполняем под
```
sudo -s
```
Иначе придётся перед каждой писать `sudo` (для выхода набрать `exit`)

Также может убряться каталог пользователя то есть заместо `layder` в данном случае моё имя, пользователя будет `~` и чтобы вернуться в домашнюю папку пишем
```
cd /home/layder
```
`layder` заменить на ваше имя пользователья
## Установка зависимостей
`pacman -S --needed curl ipset bind git jq` строчка для арча и производных

`dnf install -y curl ipset dnsutils git jq` строчка для федоры

`apt install -y curl ipset dnsutils git jq` строчка для убунты

`pacman -S nftables` установка nftables
### Установка самого запрета
Скачать последний релиз .tar.gz с [тык](https://github.com/bol-van/zapret/releases)

Распаковываем

Для этого понадобиться утилита tar и gzip

```
pacman -S tar gzip
```

Далее переходим в папку загрузки и распаковываем
```
cd Загрузки
tar -xvzf zapret-v69.5.tar.gz -C /home
```
Где `zapret-v69.5.tar.gz` имя архива, на данный момент оно такое и `/home/layder` - куда файл распаковывается
## Сама программа
Для начала переходим в папку с распакованной программой в моём случае это `/home/layder/zapret-v69.5`
```
cd /home/layder/zapret-69.5
```
Запускаем
```
./install_bin.sh
./install_prereq.sh
```
### Далее настройка блокчека
Блокчек (`blockcheck`) - скрипт проверяющий и ищущий подходящую стратегию для обхода, подробнее > [оригиналь](https://github.com/bol-van/zapret/tree/master)

Изначально он берёт стратегию и проверяет адрес на отзыв если он отзывается, то стратегия записывается в рабочие и выводиться в конечном листе, если же стратегия не рабочая то она пропускается, но при `times to repeat each test` то есть количество проверок тобиш пингов больше одного, что рекомендуется изза возможного ложного срабатывания и записи стратегии в рабочие, он пингует всегда 3 раза, тоесть если пинга 3 то проверок будет в любом случае 3, если 10, то 10, и даже если стратегия не рабочая он всёравно проверит нужное количество раз, а это занимает не мало времени с учётом скорости одного отклика адреса ~2 секунды(у меня) сами понимаете.

Так к чему же это
#### КАК УСКОРИТЬ БЛОКЧЕК И НАЙТИ МАКСИМУМ РАБОЧИХ СТРАТЕГИЙ ОБХОДА
1. Открываете blockcheck.sh в текстовом редакторе, у меня на арче `kate`
2. В поиске ищете строчку вида `[ "$SCANLEVEL" = quick ] && break`
3. Заменяете её на просто `break`
4. Сохраняете и все вы ускорили блокчек.
5. 
С помощью этого действия теперь он будет при первой недоступности стратегии сразу переходить к следующей.

#### Если заблокирован сам сайт ютуба
Лучше пропускать и идти к следующему шагу, если же нет

Запускаем
```
./blockcheck.sh
```
В поле для адреса `domain(s) (default: rutracker.org) :` вписываем `youtube.com`, далее в полях:
1. `ip protocol version(s)` : жмём `4`
2. `check http` : `n`
3. `check https tls 1.2` : `y` или ентер
4. `check https tls 1.3` : `n`
5. `check http3 QUIC` : `n`
6. `times to repeat each test` : `3`
7. `your choice` : `standart` или ентер

Ждёмс

Если же написало youtube.com Works without dpi или подобное то ютуб работает без дпи, тоесть он не нужен.
